{% extends "base_template.html" %} {% block body %}
<div class="page_header center">

    <div class="main_container">

        <h2 class="page_label">Ваш профиль</h2>
        <h5 class="page_label_uphead">Заполните профиль как можно детальнее, чтобы быстрее подобрать себе команду</h5>


    </div>
</div>

<div class="main_section">

    <div class="main_container white">



        <div class="form_main big" id="user_edit_form">



            <div class="form_section">
                
                <div class="row_2">
                   
                    <div class="column">
                        <form method="post" id="upload_avatar" action="/participants/profile/edit_avatar">
                          {% csrf_token %}
                     
                      <div class="user_avatar" id="user_avatar" style="background-image:url(/media/{{user.avatar}})">
                      <img id="test_image" width="150px" height="150px" src="" alt="">
                       
                        <div class="description">
                            <p>Перенесите или кликните, чтобы загрузить</p>
                            <input id="avatar" name="avatar" accept="image/gif, image/jpeg, image/png" type="file" class="upload_image_avatar">
                        </div>
                        </div>
                            
                         
                        </form>
                           

                        <div class="avatar_right_part">
                            <button id="upload_avatar_button" class="upload"><i class="icon ion-upload"></i> Загрузить</button>
                            <p class="avatar_description"> Вы можете загрузить любое изображение, не превышающее 512 кб. Аватар отображается на странице Вашего профиля и команды.</p>
                        </div>
                       
                    </div>
                    <div class="column">
                        

                        <div class="team_left_part">
                            {% if user.team  %}
                            5151
                            {% else %}
                            <p class="Team_name">Пока что Вы не состоите в команде</p>
                            {% endif %}
                           
                            <p class="avatar_description">Создайте или найдите себе подходящую команду, чтобы принять участвие в хакатоне.</p>
                        
                        </div>
                        
                        <form action="/file-upload" class="user_avatar team">
                           
                        </form>


                    </div>
                </div>

              

            </div>
            
            <div class="form_section">

                <button class="save_button" id="save_user_experience">
                    Сохранить изменения
                </button>


                <h3 class="form_section_label">Опыт участника</h3>

                <div class="form_field_container">
                    <div class="input_container with_label multiple_select">

                        <div class="select" id="user_skills">
                            {% for skill in user.user_skills %}<div id="{{skill.id}}" class="option"><p>{{skill.name}}</p><i class="icon ion-close-round" aria-hidden="true"></i></div>{% endfor %}
                        </div>
                        <label>Основные компетенции (до 3-х)</label>
                        <p class="error_output">Ошибка</p>

                        <div class="nested_list" id="skills">
                            {% for group in skill_groups %}
                            <div id="{{ group.id}}" class="extended_item">
                                <div class="header">
                                    <p>{{group.name}}</p>
                                    <i class="icon ion-chevron-down" aria-hidden="true"></i>
                                </div>
                                <div class="items">
                                    {% for skill in group.skills %}
                                    <div class="single_item" id="{{skill.id}}">
                                        <p>{{skill.name}}</p>
                                        <i class="icon ion-plus" aria-hidden="true"></i>
                                    </div>
                                    {% endfor  %}

                                </div>

                            </div>
                            {% endfor  %}

                        </div>

                    </div>
                    <div class="field_description">
                        <p>Выберете те области, в которых Вы - лучший.</p>
                    </div>

                </div>
                
                {% if experience %}
                {% for exp in experience %}

                <div id="experience_{{exp.id}}" class="form_field_container experience_textarea">
                    <div class="input_container with_label textarea_container">
                    {% if not forloop.first %}
                        <div class="delete_button experience_delete"><i class="invisible icon ion-close-round"></i></div>
                        {% else  %}
                          <div class="first delete_button experience_delete"><i class="invisible icon ion-close-round"></i></div>
                        {% endif %}
                        <textarea rows="3" placeholder="Опишите Ваш опыт работы над проектами...">{{exp.text}}</textarea>
                        <label>Ваш опыт</label>
                        <p class="error_output">Ошибка</p>


                    </div>


{% if forloop.first %}
                    <div class="field_description">
                        <p>Вы можете добавить несколько полей, описывающих Ваш опыт.</p>
                    </div>
{% endif %}

                </div>


                {% endfor %}
                {% else %}
                <div id="experience_1" class="form_field_container experience_textarea">
                    <div class="input_container with_label textarea_container">
                   
                        <textarea rows="3" placeholder="Опишите Ваш опыт работы над проектами...">{{exp.text}}</textarea>
                        <label>Ваш опыт</label>
                        <p class="error_output">Ошибка</p>


                    </div>

                    <div class="field_description">
                        <p>Вы можете добавить несколько полей, описывающих Ваш опыт.</p>
                    </div>


                </div>


                {% endif %}

                
                <div class="button_container" id="add_user_experience" >

                    <button class="main_button">Добавить</button>
                </div>

            </div>

            <div class="form_section">

                <button class="save_button" id="save_user_info">
                Сохранить изменения
            </button>


                <h3 class="form_section_label">Информация об участнике</h3>

                <div class="form_field_container">
                    <div class="input_container with_label">

                        <input type="text" disabled id="email" placeholder="E-mail" value="{{user.email}}">
                        <label>Электронная почта</label>
                        <p class="error_output">Ошибка</p>


                    </div>
                    <div class="field_description">
                        <p>Электронная почта не может быть изменена, поскольку она напрямую привязана к аккаунту.</p>
                    </div>

                </div>
                    <div class="form_field_container">
                        <div class="input_container with_label">

                            <input type="text" id="name" placeholder="name" value="{{user.name}}">
                            <label>Имя и Фамилия</label>
                            <p class="error_output">Ошибка</p>


                        </div>
                        <div class="field_description">
                            <p>Ваше имя видно всем пользователям.</p>
                        </div>
                    </div>

                    <div class="form_field_container">
                        <div class="input_container with_label">

                            <input type="text" id="phone" placeholder="Телефон" value="{{user.phone_number}}">
                            <label>Телефон</label>
                            <p class="error_output">Ошибка</p>


                        </div>
                        <div class="field_description">
                            <p>Телефон не отображается в Вашем профиле и необходим нам только для организационных моментов.</p>
                        </div>
                    </div>
                    
                </div>


            
            
            </div>

        </div>
    </div>

    {% endblock %} {% block scripts %}
    <script src="/static/cabinet/js/dropzone.js"></script>
    {% endblock %}
